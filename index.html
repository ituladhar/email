<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paramount Wireless Email Builder</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Roboto, Arial, sans-serif;
            background-color: #f2f6fc;
            padding: 20px;
            color: #1f1f1f;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }

        @media (min-width: 1024px) {
            .container {
                grid-template-columns: 1.1fr 0.9fr;
            }
        }

        /* Gmail Compose Style Card */
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(60,64,67, 0.3), 0 4px 8px 3px rgba(60,64,67, 0.15);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .card-header {
            padding: 10px 15px;
            background: #f2f6fc;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-weight: 500;
            font-size: 14px;
            color: #1f1f1f;
            border-bottom: 1px solid #e0e0e0;
        }

        /* Editor Section */
        .editor-container {
            height: 520px;
            overflow-y: auto;
            background: #ffffff;
            display: flex;
            flex-direction: column;
        }

        #editor {
            padding: 25px;
            flex-grow: 1;
            outline: none;
            font-size: 14px;
            line-height: 1.5;
            min-height: 400px;
        }

        /* Gmail Style Bottom Toolbar */
        .gmail-bottom-bar {
            padding: 12px 16px;
            border-top: 1px solid #f1f1f1;
            display: flex;
            align-items: center;
            gap: 8px;
            background: #fff;
            flex-wrap: wrap;
        }

        .send-btn {
            background-color: #0b57d0;
            color: white;
            border: none;
            padding: 10px 24px;
            border-radius: 100px;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            transition: background 0.2s;
            margin-right: 8px;
        }

        .send-btn:hover { background-color: #0842a0; box-shadow: 0 1px 2px 0 rgba(60,64,67, .3), 0 1px 3px 1px rgba(60,64,67, .15); }

        .formatting-tools {
            display: flex;
            align-items: center;
            gap: 1px;
            padding: 2px;
            background: transparent;
        }

        .tool-btn {
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 6px 8px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #444746;
            font-size: 16px;
            min-width: 32px;
        }

        .tool-btn:hover { background: #e9eef6; color: #1f1f1f; }
        .tool-btn.active { background: #d3e3fd; color: #041e49; }

        .toolbar-select {
            background: transparent;
            border: none;
            font-size: 13px;
            color: #444746;
            cursor: pointer;
            padding: 4px 6px;
            outline: none;
            border-radius: 4px;
        }
        .toolbar-select:hover { background: #f1f3f4; }

        .divider {
            width: 1px;
            height: 24px;
            background: #dadce0;
            margin: 0 4px;
        }

        /* Preview Panel */
        .preview-panel {
            position: sticky;
            top: 20px;
        }

        .preview-chrome {
            background: white;
            border-radius: 8px;
            border: 1px solid #dadce0;
            box-shadow: 0 1px 2px 0 rgba(60,64,67,.3);
            overflow: hidden;
        }

        .preview-banner {
            background: #f1f3f4;
            padding: 8px 16px;
            font-size: 12px;
            color: #5f6368;
            border-bottom: 1px solid #dadce0;
            display: flex;
            justify-content: space-between;
        }

        #email-preview {
            background: #fff;
            padding: 30px;
        }

        /* Icons */
        .icon { width: 18px; height: 18px; fill: currentColor; }

        /* Configuration Forms */
        .config-card {
            margin-top: 20px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            border: 1px solid #dadce0;
        }

        .config-title {
            font-size: 12px;
            text-transform: uppercase;
            color: #5f6368;
            font-weight: 700;
            margin-bottom: 15px;
            letter-spacing: 0.5px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .input-group label { font-size: 11px; font-weight: 600; color: #444746; }

        .input-group input, .input-group textarea {
            border: 1px solid #dadce0;
            border-radius: 4px;
            padding: 8px 12px;
            font-size: 13px;
            outline-color: #0b57d0;
        }

        .toggle-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 15px 0;
            padding-top: 10px;
            border-top: 1px solid #f1f1f1;
        }

        .switch {
            width: 32px; height: 18px; background: #dadce0; border-radius: 10px; position: relative; cursor: pointer; transition: 0.2s;
        }
        .switch.active { background: #0b57d0; }
        .switch::after {
            content: ''; position: absolute; width: 14px; height: 14px; background: white; border-radius: 50%; top: 2px; left: 2px; transition: 0.2s;
        }
        .switch.active::after { transform: translateX(14px); }

        .hidden { display: none !important; }

        /* List Styling in editor */
        #editor ul { list-style-type: disc; margin-left: 25px; }
        #editor ol { list-style-type: decimal; margin-left: 25px; }
        #editor blockquote { border-left: 3px solid #dadce0; padding-left: 15px; margin-left: 0; color: #5f6368; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Editor Panel -->
        <div class="editor-panel">
            <div class="card">
                <div class="card-header">
                    <span>New Draft</span>
                    <div style="display: flex; gap: 12px; color: #5f6368;">
                        <span style="cursor:pointer" onclick="execCmd('undo')" title="Undo">⟲</span>
                        <span style="cursor:pointer" onclick="execCmd('redo')" title="Redo">⟳</span>
                        <span>✕</span>
                    </div>
                </div>

                <div class="editor-container">
                    <div id="editor" contenteditable="true">
                        <div>Hello [Name],</div>
                        <div><br></div>
                        <div>I am reaching out to discuss a potential collaboration between our teams. We have been following your developments and believe there is a strong alignment between our current initiatives and your goals.</div>
                        <ul>
                            <li>Innovative wireless solutions</li>
                            <li>Scalable partnership models</li>
                        </ul>
                        <div><br></div>
                        <div>Would you have 10 minutes later this week for a brief introductory call?</div>
                        <div><br></div>
                        <div>Best regards,</div>
                    </div>
                </div>

                <!-- Upgraded Clean Toolbar -->
                <div class="gmail-bottom-bar">
                    <button class="send-btn" id="copyBtn" onclick="copyToClipboard()">
                        Copy for Outlook
                    </button>
                    
                    <div class="formatting-tools">
                        <select class="toolbar-select" onchange="execCmd('fontName', this.value)" style="width: 90px;">
                            <option value="Arial">Sans Serif</option>
                            <option value="Georgia">Serif</option>
                            <option value="Courier New">Fixed Width</option>
                            <option value="Verdana">Verdana</option>
                        </select>
                        <div class="divider"></div>
                        <select class="toolbar-select" onchange="execCmd('fontSize', this.value)" style="width: 70px;">
                            <option value="2">Small</option>
                            <option value="3" selected>Normal</option>
                            <option value="5">Large</option>
                            <option value="7">Huge</option>
                        </select>
                        <div class="divider"></div>
                        <button class="tool-btn" onclick="execCmd('bold')" title="Bold"><b>B</b></button>
                        <button class="tool-btn" onclick="execCmd('italic')" title="Italic"><i>I</i></button>
                        <button class="tool-btn" onclick="execCmd('underline')" title="Underline"><u>U</u></button>
                        <button class="tool-btn" title="Text color" onclick="document.getElementById('colorInput').click()">
                            <span style="border-bottom: 3px solid #1f1f1f; line-height: 1;">A</span>
                            <input type="color" id="colorInput" style="display:none" onchange="execCmd('foreColor', this.value)">
                        </button>
                        
                        <div class="divider"></div>
                        
                        <!-- Alignment -->
                        <select class="toolbar-select" onchange="execCmd(this.value)" style="width: 45px;" title="Align">
                            <option value="justifyLeft">≡</option>
                            <option value="justifyCenter">≣</option>
                            <option value="justifyRight">≡</option>
                        </select>
                        
                        <!-- List Styles -->
                        <select class="toolbar-select" onchange="handleListAction(this.value)" style="width: 45px;" title="Lists">
                            <option value="">•≣</option>
                            <option value="ul">Bullet</option>
                            <option value="ol">Numbered</option>
                            <option value="indent">⇥</option>
                            <option value="outdent">⇤</option>
                        </select>
                        
                        <div class="divider"></div>

                        <button class="tool-btn" onclick="insertLink()" title="Insert Link">
                            <svg class="icon" viewBox="0 0 24 24"><path d="M3.9,12c0-1.7,1.4-3.1,3.1-3.1h4V7H7c-2.8,0-5,2.2-5,5s2.2,5,5,5h4v-1.9H7C5.3,15.1,3.9,13.7,3.9,12z M8,13h8v-2H8V13z M17,7h-4v1.9h4c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1h-4V17h4c2.8,0,5-2.2,5-5S19.8,7,17,7z"/></svg>
                        </button>

                        <button class="tool-btn" onclick="execCmd('removeFormat')" title="Clear Formatting">
                            <svg class="icon" viewBox="0 0 24 24"><path d="M6,14v-2.5l2-2.5l2,2.5V14h1V8H4v6H6z M16,8h-5v2h1.5v4h2v-4H16V8z M21,11v-1h-2v1H21z M18,11h2v-1h-2V11z M21,13h-3v1h3V13z"/></svg>
                        </button>
                    </div>

                    <button class="tool-btn" onclick="clearEditor()" style="margin-left: auto;" title="Clear Editor">
                        <svg class="icon" viewBox="0 0 24 24"><path d="M15,4V3H9v1H4v2h1v13c0,1.1,0.9,2,2,2h10c1.1,0,2-0.9,2-2V6h1V4H15z M17,19H7V6h10V19z M9,8h2v9H9V8z M13,8h2v9h-2V8z"/></svg>
                    </button>
                </div>
            </div>

            <!-- Configuration Section -->
            <div class="config-card">
                <div class="config-title">Template Configuration</div>
                
                <!-- Signature Toggle & Fields -->
                <div class="toggle-row" style="border-top: none; margin-top: 0; padding-top: 0;">
                    <span style="font-size: 13px; color: #444746;">Include Professional Signature</span>
                    <div class="switch active" id="sigToggle" onclick="toggleSignature()"></div>
                </div>
                <div id="signatureFields" class="form-grid">
                    <div class="input-group">
                        <label>Name</label>
                        <input type="text" id="sigName" value="Alex Sterling" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Title</label>
                        <input type="text" id="sigTitle" value="Director of Business Development" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Phone</label>
                        <input type="text" id="sigPhone" value="(555) 123-4567" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Market</label>
                        <input type="text" id="sigMarket" value="Southeast Region" oninput="updatePreview()">
                    </div>
                    <div class="input-group" style="grid-column: span 2;">
                        <label>Email</label>
                        <input type="email" id="sigEmail" value="a.sterling@p-wireless.com" oninput="updatePreview()">
                    </div>
                </div>

                <!-- CTA Toggle & Fields -->
                <div class="toggle-row">
                    <span style="font-size: 13px; color: #444746;">Call to Action Button</span>
                    <div class="switch active" id="ctaToggle" onclick="toggleCTA()"></div>
                </div>
                <div class="form-grid" id="ctaFields">
                    <div class="input-group">
                        <label>Button Label</label>
                        <input type="text" id="ctaText" value="Schedule Discovery Call" oninput="updatePreview()">
                    </div>
                    <div class="input-group">
                        <label>Link URL</label>
                        <input type="text" id="ctaLink" value="https://www.paramountwirelessusa.com/" oninput="updatePreview()">
                    </div>
                </div>

                <!-- Disclaimer Toggle & Fields -->
                <div class="toggle-row">
                    <span style="font-size: 13px; color: #444746;">Confidentiality Disclaimer</span>
                    <div class="switch active" id="footerToggle" onclick="toggleFooter()"></div>
                </div>
                <div id="footerFields" class="input-group">
                    <textarea id="footerDisclaimer" oninput="updatePreview()" rows="3" style="width: 100%;">This communication is intended solely for the addressee and may contain proprietary information. Unauthorized use, disclosure, or distribution is prohibited. If you received this in error, please notify the sender and delete the original message.</textarea>
                </div>
            </div>
        </div>

        <!-- Preview Panel -->
        <div class="preview-panel">
            <div class="preview-chrome">
                <div class="preview-banner">
                    <span>Email Preview (Desktop Outlook)</span>
                    <span style="color: #22c55e;">● Live</span>
                </div>
                <div id="email-preview"></div>
            </div>
        </div>
    </div>

    <script>
        let showSignature = true;
        let showCTA = true;
        let showFooter = true;

        document.addEventListener('DOMContentLoaded', () => {
            const editor = document.getElementById('editor');
            updatePreview();
            
            editor.addEventListener('input', updatePreview);
            
            // Tab support for indentation
            editor.addEventListener('keydown', (e) => {
                if (e.key === 'Tab') {
                    e.preventDefault();
                    if (e.shiftKey) document.execCommand('outdent');
                    else document.execCommand('indent');
                    updatePreview();
                }
            });

            const observer = new MutationObserver(updatePreview);
            observer.observe(editor, { childList: true, subtree: true, attributes: true });
        });

        function execCmd(command, value = null) {
            document.execCommand(command, false, value);
            document.getElementById('editor').focus();
            updatePreview();
        }

        function handleListAction(val) {
            if (!val) return;
            if (val === 'indent' || val === 'outdent') {
                execCmd(val);
            } else if (val === 'ul') {
                execCmd('insertUnorderedList');
            } else if (val === 'ol') {
                execCmd('insertOrderedList');
            }
            // Reset selector
            document.querySelector('select[title="Lists"]').selectedIndex = 0;
            updatePreview();
        }

        function insertLink() {
            const url = prompt("Enter URL:", "https://");
            if (url) execCmd('createLink', url);
        }

        function clearEditor() {
            const editor = document.getElementById('editor');
            const confirmed = confirm("Are you sure you want to clear the message content?");
            if (confirmed) {
                editor.innerHTML = '<div><br></div>';
                updatePreview();
            }
        }

        function toggleSignature() {
            showSignature = !showSignature;
            document.getElementById('sigToggle').classList.toggle('active');
            document.getElementById('signatureFields').classList.toggle('hidden');
            updatePreview();
        }

        function toggleCTA() {
            showCTA = !showCTA;
            document.getElementById('ctaToggle').classList.toggle('active');
            document.getElementById('ctaFields').classList.toggle('hidden');
            updatePreview();
        }

        function toggleFooter() {
            showFooter = !showFooter;
            document.getElementById('footerToggle').classList.toggle('active');
            document.getElementById('footerFields').classList.toggle('hidden');
            updatePreview();
        }

        function updatePreview() {
            const editorContent = document.getElementById('editor').innerHTML;
            const data = {
                name: document.getElementById('sigName').value,
                title: document.getElementById('sigTitle').value,
                phone: document.getElementById('sigPhone').value,
                market: document.getElementById('sigMarket').value,
                email: document.getElementById('sigEmail').value,
                ctaText: document.getElementById('ctaText').value,
                ctaLink: document.getElementById('ctaLink').value,
                footerDisclaimer: document.getElementById('footerDisclaimer').value
            };

            const websiteUrl = "https://www.paramountwirelessusa.com/";

            let ctaHTML = '';
            if (showCTA && data.ctaLink && data.ctaText) {
                ctaHTML = `
                    <tr>
                        <td align="center" style="padding: 10px 40px 40px 40px;">
                            <a href="${data.ctaLink}" target="_blank" style="display: inline-block; padding: 12px 24px; background-color: #ef4444; color: #ffffff; text-decoration: none; border-radius: 4px; font-weight: bold; font-size: 14px; font-family: Arial, sans-serif;">
                                ${data.ctaText}
                            </a>
                        </td>
                    </tr>
                `;
            }

            let signatureHTML = '';
            if (showSignature) {
                signatureHTML = `
                    <tr>
                        <td style="padding: 0 40px;">
                            <div style="border-top: 2px solid #f1f5f9; padding-top: 15px; margin-top: 10px;">
                                <table width="100%" cellpadding="0" cellspacing="0">
                                    <tr>
                                        <td width="80" style="vertical-align: top; padding-right: 15px;">
                                            <img src="https://s12.gifyu.com/images/b39dH.png" alt="Logo" width="70" style="display: block; border: none;">
                                        </td>
                                        <td style="vertical-align: top; line-height: 1.1; font-family: Arial, sans-serif;">
                                            <div style="font-size: 16px; font-weight: bold; color: #0f172a;">${data.name}</div>
                                            <div style="font-size: 13px; color: #ef4444; font-weight: 700;">${data.title}</div>
                                            <div style="font-size: 12px; color: #64748b;">${data.market}</div>
                                            <div style="font-size: 11px; color: #475569;">
                                                <a href="mailto:${data.email}" style="color: #475569; text-decoration: none;">${data.email}</a>
                                                <span style="margin: 0 6px; color: #cbd5e1;">|</span>
                                                <span style="font-weight: 600;">${data.phone}</span>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </td>
                    </tr>
                `;
            }

            let footerHTML = '';
            if (showFooter) {
                footerHTML = `<tr><td style="padding: 40px; font-size: 10px; color: #94a3b8; text-align: center; font-family: Arial, sans-serif;">${data.footerDisclaimer}</td></tr>`;
            }

            const finalHTML = `
                <table width="100%" cellpadding="0" cellspacing="0" style="max-width: 600px; margin: 0 auto; border: 1px solid #e2e8f0; background-color: #ffffff; border-collapse: collapse; font-family: Arial, sans-serif;">
                    <tbody>
                        <tr>
                            <td align="center" style="padding: 40px 20px 20px 20px;">
                                <img src="https://s12.gifyu.com/images/b39dH.png" alt="Paramount Wireless" style="height: 100px; display: block; margin: 0 auto; border: none;">
                                <div style="height: 2px; width: 70%; margin: 25px auto 0 auto; background: linear-gradient(to right, rgba(239, 68, 68, 0), rgba(239, 68, 68, 1), rgba(239, 68, 68, 0));"></div>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 20px 40px; color: #1e293b; font-size: 15px; line-height: 1.6;">
                                <style>
                                    .email-body ul { list-style-type: disc; margin: 10px 0 10px 25px; padding: 0; }
                                    .email-body ol { list-style-type: decimal; margin: 10px 0 10px 25px; padding: 0; }
                                    .email-body li { margin-bottom: 5px; }
                                </style>
                                <div class="email-body">${editorContent}</div>
                            </td>
                        </tr>
                        ${ctaHTML}
                        ${signatureHTML}
                        ${footerHTML}
                    </tbody>
                </table>
            `;

            document.getElementById('email-preview').innerHTML = finalHTML;
        }

        function copyToClipboard() {
            const previewArea = document.getElementById('email-preview');
            const range = document.createRange();
            range.selectNode(previewArea);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            try {
                if (document.execCommand('copy')) {
                    const btn = document.getElementById('copyBtn');
                    const originalText = btn.innerText;
                    btn.style.backgroundColor = '#16a34a';
                    btn.innerText = 'Draft Copied!';
                    setTimeout(() => {
                        btn.style.backgroundColor = '#0b57d0';
                        btn.innerText = originalText;
                    }, 2000);
                }
            } catch (err) {
                alert("Please select the preview content and copy manually.");
            }
            window.getSelection().removeAllRanges();
        }
    </script>
</body>
</html>
